// Translation data
const translations = {
    uk: {
        // Navigation
        'nav.about': 'Про мене',
        'nav.services': 'Послуги',
        'nav.qualifications': 'Кваліфікація',
        'nav.testimonials': 'Відгуки',
        'nav.contact': 'Контакти',
        'nav.subtitle1': 'ПРАКТИЧНИЙ ПСИХОЛОГ',
        'nav.subtitle2': 'СПЕЦІАЛІСТ З НУМЕРОЛОГІЇ та СИМВОЛІЗМУ',
        'nav.downloadApp': 'Скачати NUM Calendar',
        'nav.compatibility': 'Калькулятор сумісності',
        'nav.home': 'Головна',
        'meta.title': 'Валентина Балацька - Психолог Онлайн Україна | Нумеролог | КПТ Терапія | Сімейні Розстановки',
        'meta.description': 'Практикуючий психолог онлайн Україна. Спеціаліст з нумерології та символізму. Когнітивно-поведінкова терапія (КПТ), сімейні системні розстановки. Онлайн консультації через Zoom. Психологічна допомога, психологічна підтримка, психологічна терапія. Психолог для дорослих, психолог дистанційно, психолог по Zoom.',
        
        // Hero
        'hero.name': 'ВАЛЕНТИНА БАЛАЦЬКА',
        'hero.title': 'ПРАКТИЧНИЙ ПСИХОЛОГ',
        'hero.numerology': 'СПЕЦІАЛІСТ З НУМЕРОЛОГІЇ ТА СИМВОЛІЗМУ',
        'hero.message': 'Допоможу знайти внутрішню гармонію та розкрити ваш потенціал!',
        'hero.cta': 'Записатися на консультацію',
        
        // About
        'about.title': 'Про мене',
        'about.greeting': 'Вітаю!',
        'about.intro': 'Я, Валентина Балацька, практичний психолог, спеціаліст з нумерології та символізму.',
        'about.approaches': 'Я вивчала різноманітні підходи і на зараз виділяю в своїй роботі два: <strong>системно-феноменологічний підхід</strong> — дозволяє піти в глибину і побачити першопричини життєвих проблем; <strong>когнітивно-поведінкова терапія</strong> — дозволяє тут і зараз змінювати укорінене мислення.',
        'about.tools': 'Нумерологія і символізм — прекрасні інструменти для швидкої і якісної діагностики та пошуку векторів корекції.',
        'about.question': 'Що ще я маю, чим можу бути корисна?',
        'about.experience': 'Я на власному прикладі знаю, як:',
        'about.experienceList': '',
        'about.exp1': 'жити в дисфункціональній родині, але змогти створити для себе хороше життя;',
        'about.exp2': 'бути іпохондриком, але опанувати свою тривогу і навчитися балансувати її;',
        'about.exp3': 'поринути в депресію і витягти себе з болота, як барон Мюнхаузен;',
        'about.exp4': 'мати звичку негативно мислити і змогти викорінити її, замінивши на здатність думати за себе;',
        'about.exp5': 'жити в бідності, але створити успішний бізнес;',
        'about.exp6': 'починати плакати від чужого конфлікту поруч, але навчитися конструктивно відстоювати себе;',
        'about.exp7': 'мати РХП і дозволити собі жити без заборон;',
        'about.exp8': 'втрачати, але вміти спертися на себе.',
        'about.roles': 'Я жінка, дружина, мама, сестра, подруга, терапевт, підприємниця. І всі свої ролі я й далі розвиваю.',
        'about.responsibility': 'Я не беру на себе 50 % за Ваш результат роботи — я беру 100 % своєї відповідальності за мою роботу і залишаю Вам 100 % відповідальності за Вашу.',
        'about.promise': 'Я знаю, що зі мною можна пройти шлях до цілі: без засудження, в щирості, з підтримкою та розумінням.',
        
        // Services
        'services.title': 'Мої послуги',
        'services.consultation.title': 'Індивідуальна психологічна консультація',
        'services.consultation.price': '2000 грн / одна година',
        'services.consultation.desc': 'онлайн консультація через ZOOM',
        'services.webinar.title': 'Розстановки',
        'services.webinar.individual': 'Індивідуальна - 4200 грн',
        'services.webinar.group': 'Групова - 3000 грн',
        'services.webinar.substitute': 'Замісник - 500 грн',
        'services.training.title': 'Нумерологічна консультація + діагностика та корекція через символізм',
        'services.training.price': '6300 грн',
        'services.training.desc': 'Комплекс, який включає в себе повний нумерологічний розбір, короткий прогноз на рік та діагностику і корекцію через символізм.',
        
        // Qualifications
        'qualifications.title': 'Кваліфікація та освіта',
        'qualifications.diploma.title': 'Дипломований психолог',
        'qualifications.diploma.desc': 'Вища освіта за спеціальністю «Практичний психолог» Інституту післядипломної освіти ім. Тараса Шевченка',
        'qualifications.constellations.title': 'Сімейні системні розстановки',
        'qualifications.constellations.desc': 'Сертифікат терапевта в методі системно-феноменологічного підходу від UpPro School',
        'qualifications.cbt.title': 'Когнітивно-поведінкова терапія',
        'qualifications.cbt.desc': 'Наразі проходжу навчання 3 методу КПТ (когнітивно-поведінкова терапія) в UpPro School',
        'qualifications.membership.title': 'Когнітивно-поведінкова терапія (підвищення кваліфікації)',
        
        // Testimonials
        'testimonials.title': 'Відгуки клієнтів',
        'testimonials.testimonial1.text': '"Консультації з Валентиною допомогли мені знайти внутрішню гармонію та розібратися з життєвими викликами. Дуже рекомендую!"',
        'testimonials.testimonial1.author': '— Олена, Київ',
        'testimonials.testimonial2.text': '"Нумерологія відкрила для мене нові перспективи. Валентина професійно допомогла зрозуміти мої сильні сторони."',
        'testimonials.testimonial2.author': '— Марія, Львів',
        'testimonials.testimonial3.text': '"Вебінари та навчання були дуже корисними. Отримала багато практичних інструментів для саморозвитку."',
        'testimonials.testimonial3.author': '— Анна, Одеса',
        
        // Contact
        'contact.title': 'Контакти',
        'contact.text': 'Зв\'яжіться зі мною для запису на консультацію або дізнайтеся більше про мої послуги',
        'contact.email': 'Email',
        'contact.phone': '+380 96 815 8442',
        'contact.instagram': 'Instagram',
        'contact.support.title': 'Служба підтримки додатку NUM Calendar',
        'contact.support.email': 'Email',
        'contact.business.title': 'ФОП Балацька Валентина Іванівна',
        'contact.business.tax': 'ІПН: 3306511143',
        'contact.business.kved': 'КВЕД: 86.90, 96.09, 85.59',
        
        // Form
        'form.name': 'Ваше ім\'я',
        'form.email': 'Ваш email',
        'form.message': 'Ваше повідомлення',
        'form.submit': 'Відправити повідомлення',
        
        // Footer
        'footer.text': '© 2024 Валентина Балацька. Всі права захищені.',
        
        // Booking Modal
        'booking.modal.title': 'Записатися на консультацію',
        'booking.consultation1.title': 'Індивідуальна психологічна консультація.',
        'booking.consultation1.price': 'Вартість 2000 грн (50 USD).',
        'booking.consultation1.desc': 'онлайн консультація через ZOOM',
        'booking.duration': '60m',
        'booking.confirmation': 'Потрібне підтвердження',
        'booking.selectTime': 'Обрати час',
        'booking.consultation2.title': 'Нумерологічна консультація + діагностика та корекція через символізм.',
        'booking.consultation2.price': 'Вартість 6300 грн (150 USD)',
        'booking.consultation2.desc': 'Комплекс, який включає в себе повний нумерологічний розбір, короткий прогноз на рік та діагностику і корекцію через символізм.',
        // Compatibility calculator
        'compat.meta.title': 'Калькулятор сумісності | Валентина Балацька - Психолог',
        'compat.meta.description': 'Нумерологічний калькулятор сумісності партнерів за датою народження.',
        'compat.title': 'Калькулятор сумісності',
        'compat.subtitle': 'Введіть дати народження обох партнерів',
        'compat.partner1': 'Партнер 1',
        'compat.partner2': 'Партнер 2',
        'compat.day': 'День',
        'compat.month': 'Місяць',
        'compat.year': 'Рік',
        'compat.calculate': 'Розрахувати',
        'compat.arkanPlus': 'Аркан +',
        'compat.arkanMinus': 'Аркан −',
        'compat.compatibility': 'Сумісність',
        'compat.forecastTitle': 'Розрахувати прогноз особистого життя',
        'compat.forecastYear': 'Рік',
        'compat.calculateForecast': 'Розрахувати',
        'compat.effectiveUntil': 'діє до',
        'compat.effectiveAfter': 'діє після',
        'compat.month1': 'Січень', 'compat.month2': 'Лютий', 'compat.month3': 'Березень', 'compat.month4': 'Квітень', 'compat.month5': 'Травень', 'compat.month6': 'Червень', 'compat.month7': 'Липень', 'compat.month8': 'Серпень', 'compat.month9': 'Вересень', 'compat.month10': 'Жовтень', 'compat.month11': 'Листопад', 'compat.month12': 'Грудень',
        'compat.month1Gen': 'січня', 'compat.month2Gen': 'лютого', 'compat.month3Gen': 'березня', 'compat.month4Gen': 'квітня', 'compat.month5Gen': 'травня', 'compat.month6Gen': 'червня', 'compat.month7Gen': 'липня', 'compat.month8Gen': 'серпня', 'compat.month9Gen': 'вересня', 'compat.month10Gen': 'жовтня', 'compat.month11Gen': 'листопада', 'compat.month12Gen': 'грудня'
    },
    
    en: {
        // Navigation
        'nav.about': 'About Me',
        'nav.services': 'Services',
        'nav.qualifications': 'Qualifications',
        'nav.testimonials': 'Testimonials',
        'nav.contact': 'Contact',
        'nav.subtitle1': 'LIFE COACH',
        'nav.subtitle2': 'SPECIALIST IN NUMEROLOGY & SYMBOLISM',
        'nav.downloadApp': 'Download NUM Calendar',
        'nav.compatibility': 'Compatibility calculator',
        'nav.home': 'Home',
        'meta.title': 'Valentyna Balatska - Life Coach | CBT | Numerology & Symbolism | Constellations | Coaching',
        'meta.description': 'Life coach specializing in numerology and symbolism. Uses Cognitive-Behavioral Therapy (CBT) and systemic-phenomenological approach. Private coaching sessions, constellations (individual and group), numerology and symbolism audit. Online via Zoom. Serves clients in English, Ukrainian, and Russian worldwide.',
        
        // Hero
        'hero.name': 'VALENTYNA BALATSKA',
        'hero.title': 'LIFE COACH',
        'hero.numerology': 'SPECIALIST IN NUMEROLOGY & SYMBOLISM',
        'hero.message': 'I will help you find inner harmony and unlock your potential!',
        'hero.cta': 'Book a Session',
        
        // About
        'about.title': 'About Me',
        'about.greeting': 'Hello!',
        'about.intro': 'My name is Valentyna Balatska. I am a life coach specializing in numerology and symbolism.',
        'about.approaches': 'I have studied various methodologies, but currently, I focus on two: the <strong>Systemic-Phenomenological approach</strong>, which allows us to go deep and identify the root causes of life\'s challenges, and <strong>Cognitive-Behavioral Therapy (CBT)</strong>, which helps transform ingrained thinking patterns in the here and now.',
        'about.tools': 'I use numerology and symbolism as powerful tools for quick insight and finding the right direction for growth.',
        'about.question': 'What do I bring to the table?',
        'about.experience': 'I know from my own experience what it means to:',
        'about.experienceList': '',
        'about.exp1': 'Struggle with hypochondria, yet master anxiety and find balance;',
        'about.exp2': 'Fall into depression and pull yourself out of the swamp through sheer will;',
        'about.exp3': 'Have a habit of negative thinking, uproot it, and learn to think for yourself;',
        'about.exp4': 'Start from poverty and build a successful business;',
        'about.exp5': 'Be overwhelmed by conflict, yet learn to stand up for yourself constructively;',
        'about.exp6': 'Come from a dysfunctional family, but create a happy life of your own;',
        'about.exp7': 'Overcome an eating disorder and learn to live without restrictions;',
        'about.exp8': 'Experience loss, yet find the strength to lean on yourself.',
        'about.roles': 'I am a woman, wife, mother, sister, friend, therapist, and entrepreneur. I continue to grow in all these roles every day.',
        'about.responsibility': 'My philosophy: I don\'t take 50% responsibility for your results. I take 100% responsibility for my work, and I leave you with 100% responsibility for yours.',
        'about.promise': 'I know that with me, you can walk the path toward your goals without judgment—only sincerity, support, and understanding.',
        
        // Services
        'services.title': 'My Services',
        'services.consultation.title': 'Private Coaching Session',
        'services.consultation.price': '50 USD / one hour',
        'services.consultation.desc': 'online session via ZOOM',
        'services.webinar.title': 'Constellations',
        'services.webinar.individual': 'Individual - 100 USD',
        'services.webinar.group': 'Group - 75 USD',
        'services.webinar.substitute': 'Substitute - 15 USD',
        'services.training.title': 'Numerology & Symbolism Audit and Realignment',
        'services.training.price': '150 USD',
        'services.training.desc': 'A comprehensive written report that includes a full numerological profile, a strategic outlook for the year ahead, and symbolic tools for harmonizing your current state.',
        
        // Qualifications
        'qualifications.title': 'Qualifications & Education',
        'qualifications.diploma.title': 'Master\'s Degree in Practical Psychology',
        'qualifications.diploma.desc': 'Higher education in "Practical Psychology" from the Taras Shevchenko Institute of Postgraduate Education',
        'qualifications.constellations.title': 'Family Systemic Constellations',
        'qualifications.constellations.desc': 'Therapist certificate in systemic-phenomenological approach from UpPro School',
        'qualifications.cbt.title': 'Cognitive Behavioral Therapy',
        'qualifications.cbt.desc': 'Currently studying 3rd method of CBT (Cognitive Behavioral Therapy) at UpPro School',
        'qualifications.membership.title': 'Cognitive-Behavioral Therapy (Professional Development)',
        
        // Testimonials
        'testimonials.title': 'Testimonials',
        'testimonials.testimonial1.text': '"Consultations with Valentyna helped me find inner harmony and deal with life challenges. Highly recommend!"',
        'testimonials.testimonial1.author': '— Elena, Kyiv',
        'testimonials.testimonial2.text': '"Numerology opened new perspectives for me. Valentyna professionally helped me understand my strengths."',
        'testimonials.testimonial2.author': '— Maria, Lviv',
        'testimonials.testimonial3.text': '"Webinars and training were very useful. I received many practical tools for self-development."',
        'testimonials.testimonial3.author': '— Anna, Odesa',
        
        // Contact
        'contact.title': 'Contact',
        'contact.text': 'Contact me to schedule a session or learn more about my services',
        'contact.email': 'Email',
        'contact.phone': '+380 96 815 8442',
        'contact.instagram': 'Instagram',
        'contact.support.title': 'NUM Calendar App Support',
        'contact.support.email': 'Email',
        'contact.business.title': 'FOP Balatska Valentyna Ivanivna',
        'contact.business.tax': 'Tax ID: 3306511143',
        'contact.business.kved': 'KVED: 86.90, 96.09, 85.59',
        
        // Form
        'form.name': 'Your name',
        'form.email': 'Your email',
        'form.message': 'Your message',
        'form.submit': 'Send message',
        
        // Footer
        'footer.text': '© 2024 Valentyna Balatska. All rights reserved.',
        
        // Booking Modal
        'booking.modal.title': 'Book a Consultation',
        'booking.consultation1.title': 'Private Coaching Session.',
        'booking.consultation1.price': 'Cost 50 USD.',
        'booking.consultation1.desc': 'online session via ZOOM',
        'booking.duration': '60m',
        'booking.confirmation': 'Confirmation required',
        'booking.selectTime': 'Select time',
        'booking.consultation2.title': 'Numerology & Symbolism Audit and Realignment.',
        'booking.consultation2.price': 'Cost 150 USD',
        'booking.consultation2.desc': 'A comprehensive written report that includes a full numerological profile, a strategic outlook for the year ahead, and symbolic tools for harmonizing your current state.',
        // Compatibility calculator
        'compat.meta.title': 'Compatibility Calculator | Valentyna Balatska - Life Coach',
        'compat.meta.description': 'Numerology compatibility calculator for partners by birth date.',
        'compat.title': 'Compatibility Calculator',
        'compat.subtitle': 'Enter both partners\' birth dates',
        'compat.partner1': 'Partner 1',
        'compat.partner2': 'Partner 2',
        'compat.day': 'Day',
        'compat.month': 'Month',
        'compat.year': 'Year',
        'compat.calculate': 'Calculate',
        'compat.arkanPlus': 'Arcan +',
        'compat.arkanMinus': 'Arcan −',
        'compat.compatibility': 'Compatibility',
        'compat.forecastTitle': 'Calculate personal life forecast',
        'compat.forecastYear': 'Year',
        'compat.calculateForecast': 'Calculate',
        'compat.effectiveUntil': 'effective until',
        'compat.effectiveAfter': 'effective after',
        'compat.month1': 'January', 'compat.month2': 'February', 'compat.month3': 'March', 'compat.month4': 'April', 'compat.month5': 'May', 'compat.month6': 'June', 'compat.month7': 'July', 'compat.month8': 'August', 'compat.month9': 'September', 'compat.month10': 'October', 'compat.month11': 'November', 'compat.month12': 'December',
        'compat.month1Gen': 'January', 'compat.month2Gen': 'February', 'compat.month3Gen': 'March', 'compat.month4Gen': 'April', 'compat.month5Gen': 'May', 'compat.month6Gen': 'June', 'compat.month7Gen': 'July', 'compat.month8Gen': 'August', 'compat.month9Gen': 'September', 'compat.month10Gen': 'October', 'compat.month11Gen': 'November', 'compat.month12Gen': 'December'
    },
    
    ru: {
        // Navigation
        'nav.about': 'Обо мне',
        'nav.services': 'Услуги',
        'nav.qualifications': 'Квалификация',
        'nav.testimonials': 'Отзывы',
        'nav.contact': 'Контакты',
        'nav.subtitle1': 'ПРАКТИЧЕСКИЙ ПСИХОЛОГ',
        'nav.subtitle2': 'СПЕЦИАЛИСТ ПО НУМЕРОЛОГИИ И СИМВОЛИЗМУ',
        'nav.downloadApp': 'Скачать NUM Calendar',
        'nav.compatibility': 'Калькулятор совместимости',
        'nav.home': 'Главная',
        'meta.title': 'Валентина Балацкая - Психолог Онлайн | Нумеролог | КПТ Терапия | Семейные Расстановки',
        'meta.description': 'Практикующий психолог онлайн. Специалист по нумерологии и символизму. Когнитивно-поведенческая терапия (КПТ), семейные системные расстановки. Консультации онлайн через Zoom. Психологическая помощь, поддержка, терапия. Психолог для взрослых, психолог дистанционно.',
        
        // Hero
        'hero.name': 'ВАЛЕНТИНА БАЛАЦКАЯ',
        'hero.title': 'ПРАКТИЧЕСКИЙ ПСИХОЛОГ',
        'hero.numerology': 'СПЕЦИАЛИСТ ПО НУМЕРОЛОГИИ И СИМВОЛИЗМУ',
        'hero.message': 'Помогу найти внутреннюю гармонию и раскрыть ваш потенциал!',
        'hero.cta': 'Записаться на консультацию',
        
        // About
        'about.title': 'Обо мне',
        'about.greeting': 'Здравствуйте!',
        'about.intro': 'Я, Валентина Балацкая, практический психолог, специалист по нумерологии и символизму.',
        'about.approaches': 'Я изучала различные подходы и сейчас выделяю в своей работе два: <strong>системно-феноменологический подход</strong> — позволяет пойти в глубину и увидеть первопричины жизненных проблем; <strong>когнитивно-поведенческая терапия</strong> — позволяет здесь и сейчас менять укорененное мышление.',
        'about.tools': 'Нумерология и символизм — прекрасные инструменты для быстрой и качественной диагностики и поиска векторов коррекции.',
        'about.question': 'Что еще я имею, чем могу быть полезна?',
        'about.experience': 'Я на собственном примере знаю, как:',
        'about.experienceList': '',
        'about.exp1': 'жить в дисфункциональной семье, но суметь создать для себя хорошую жизнь;',
        'about.exp2': 'быть ипохондриком, но овладеть своей тревогой и научиться балансировать её;',
        'about.exp3': 'погрузиться в депрессию и вытащить себя из болота, как барон Мюнхгаузен;',
        'about.exp4': 'иметь привычку негативно мыслить и суметь искоренить её, заменив на способность думать за себя;',
        'about.exp5': 'жить в бедности, но создать успешный бизнес;',
        'about.exp6': 'начинать плакать от чужого конфликта рядом, но научиться конструктивно отстаивать себя;',
        'about.exp7': 'иметь РПП и позволить себе жить без запретов;',
        'about.exp8': 'терять, но уметь опереться на себя.',
        'about.roles': 'Я женщина, жена, мама, сестра, подруга, терапевт, предприниматель. И все свои роли я и дальше развиваю.',
        'about.responsibility': 'Я не беру на себя 50% за Ваш результат работы — я беру 100% своей ответственности за мою работу и оставляю Вам 100% ответственности за Вашу.',
        'about.promise': 'Я знаю, что со мной можно пройти путь к цели: без осуждения, в искренности, с поддержкой и пониманием.',
        
        // Services
        'services.title': 'Мои услуги',
        'services.consultation.title': 'Индивидуальная психологическая консультация',
        'services.consultation.price': '50 долл США / один час',
        'services.consultation.desc': 'онлайн консультация через ZOOM',
        'services.webinar.title': 'Расстановки',
        'services.webinar.individual': 'Индивидуальная - 100 долл США',
        'services.webinar.group': 'Групповая - 75 долл США',
        'services.webinar.substitute': 'Заместитель - 15 долл США',
        'services.training.title': 'Нумерологическая консультация + диагностика и коррекция через символизм',
        'services.training.price': '150 долл США',
        'services.training.desc': 'Комплекс, который включает в себя полный нумерологический разбор, краткий прогноз на год и диагностику и коррекцию через символизм.',
        
        // Qualifications
        'qualifications.title': 'Квалификация и образование',
        'qualifications.diploma.title': 'Дипломированный психолог',
        'qualifications.diploma.desc': 'Высшее образование по специальности «Практический психолог» Института последипломного образования им. Тараса Шевченко',
        'qualifications.constellations.title': 'Семейные системные расстановки',
        'qualifications.constellations.desc': 'Сертификат терапевта в методе системно-феноменологического подхода от UpPro School',
        'qualifications.cbt.title': 'Когнитивно-поведенческая терапия',
        'qualifications.cbt.desc': 'В настоящее время прохожу обучение 3 методу КПТ (когнитивно-поведенческая терапия) в UpPro School',
        'qualifications.membership.title': 'Когнитивно-поведенческая терапия (повышение квалификации)',
        
        // Testimonials
        'testimonials.title': 'Отзывы клиентов',
        'testimonials.testimonial1.text': '"Консультации с Валентиной помогли мне найти внутреннюю гармонию и разобраться с жизненными вызовами. Очень рекомендую!"',
        'testimonials.testimonial1.author': '— Елена, Киев',
        'testimonials.testimonial2.text': '"Нумерология открыла для меня новые перспективы. Валентина профессионально помогла понять мои сильные стороны."',
        'testimonials.testimonial2.author': '— Мария, Львов',
        'testimonials.testimonial3.text': '"Вебинары и обучение были очень полезными. Получила много практических инструментов для саморазвития."',
        'testimonials.testimonial3.author': '— Анна, Одесса',
        
        // Contact
        'contact.title': 'Контакты',
        'contact.text': 'Свяжитесь со мной для записи на консультацию или узнайте больше о моих услугах',
        'contact.email': 'Email',
        'contact.phone': '+380 96 815 8442',
        'contact.instagram': 'Instagram',
        'contact.support.title': 'Служба поддержки приложения NUM Calendar',
        'contact.support.email': 'Email',
        'contact.business.title': 'ФОП Балацкая Валентина Ивановна',
        'contact.business.tax': 'ИНН: 3306511143',
        'contact.business.kved': 'КВЭД: 86.90, 96.09, 85.59',
        
        // Form
        'form.name': 'Ваше имя',
        'form.email': 'Ваш email',
        'form.message': 'Ваше сообщение',
        'form.submit': 'Отправить сообщение',
        
        // Footer
        'footer.text': '© 2024 Валентина Балацкая. Все права защищены.',
        
        // Booking Modal
        'booking.modal.title': 'Записаться на консультацию',
        'booking.consultation1.title': 'Индивидуальная психологическая консультация.',
        'booking.consultation1.price': 'Стоимость 2000 грн (50 долл США).',
        'booking.consultation1.desc': 'онлайн консультация через ZOOM',
        'booking.duration': '60m',
        'booking.confirmation': 'Требуется подтверждение',
        'booking.selectTime': 'Выбрать время',
        'booking.consultation2.title': 'Нумерологическая консультация + диагностика и коррекция через символизм.',
        'booking.consultation2.price': 'Стоимость 6300 грн (150 долл США)',
        'booking.consultation2.desc': 'Комплекс, который включает в себя полный нумерологический разбор, краткий прогноз на год и диагностику и коррекцию через символизм.',
        // Compatibility calculator
        'compat.meta.title': 'Калькулятор совместимости | Валентина Балацкая - Психолог',
        'compat.meta.description': 'Нумерологический калькулятор совместимости партнёров по дате рождения.',
        'compat.title': 'Калькулятор совместимости',
        'compat.subtitle': 'Введите даты рождения обоих партнёров',
        'compat.partner1': 'Партнёр 1',
        'compat.partner2': 'Партнёр 2',
        'compat.day': 'День',
        'compat.month': 'Месяц',
        'compat.year': 'Год',
        'compat.calculate': 'Рассчитать',
        'compat.arkanPlus': 'Аркан +',
        'compat.arkanMinus': 'Аркан −',
        'compat.compatibility': 'Совместимость',
        'compat.forecastTitle': 'Рассчитать прогноз личной жизни',
        'compat.forecastYear': 'Год',
        'compat.calculateForecast': 'Рассчитать',
        'compat.effectiveUntil': 'действует до',
        'compat.effectiveAfter': 'действует после',
        'compat.month1': 'Январь', 'compat.month2': 'Февраль', 'compat.month3': 'Март', 'compat.month4': 'Апрель', 'compat.month5': 'Май', 'compat.month6': 'Июнь', 'compat.month7': 'Июль', 'compat.month8': 'Август', 'compat.month9': 'Сентябрь', 'compat.month10': 'Октябрь', 'compat.month11': 'Ноябрь', 'compat.month12': 'Декабрь',
        'compat.month1Gen': 'января', 'compat.month2Gen': 'февраля', 'compat.month3Gen': 'марта', 'compat.month4Gen': 'апреля', 'compat.month5Gen': 'мая', 'compat.month6Gen': 'июня', 'compat.month7Gen': 'июля', 'compat.month8Gen': 'августа', 'compat.month9Gen': 'сентября', 'compat.month10Gen': 'октября', 'compat.month11Gen': 'ноября', 'compat.month12Gen': 'декабря'
    }
};

// Get current language from localStorage or default to Ukrainian
let currentLang = localStorage.getItem('language') || 'uk';

// Function to change language
function changeLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('language', lang);
    
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            // Use innerHTML to support HTML tags like <strong>
            element.innerHTML = translations[lang][key];
        }
    });
    
    // Update placeholder attributes
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (translations[lang] && translations[lang][key]) {
            element.placeholder = translations[lang][key];
        }
    });

    // Update aria-label and title (e.g. for icon-only links)
    document.querySelectorAll('[data-i18n-aria-label]').forEach(element => {
        const key = element.getAttribute('data-i18n-aria-label');
        if (translations[lang] && translations[lang][key]) {
            element.setAttribute('aria-label', translations[lang][key]);
            element.setAttribute('title', translations[lang][key]);
        }
    });
    
    // Update active language button
    document.querySelectorAll('.lang-btn').forEach(button => {
        button.classList.remove('active');
        if (button.getAttribute('data-lang') === lang) {
            button.classList.add('active');
        }
    });

    // App Store badge by language: uk -> UA, en -> US/UK, ru -> RU
    const appStoreBadge = document.getElementById('appStoreBadge');
    if (appStoreBadge) {
        const badgeFile = lang === 'uk' ? 'appstore-badge-ua.svg' : lang === 'ru' ? 'appstore-badge-ru.svg' : 'appstore-badge-en.svg';
        appStoreBadge.src = 'images/' + badgeFile;
    }

    // Title and meta description per language (SEO, sharing)
    const t = translations[lang];
    const isCompatPage = document.body && document.body.getAttribute('data-page') === 'compat';
    const titleKey = isCompatPage && t['compat.meta.title'] ? 'compat.meta.title' : 'meta.title';
    const descKey = isCompatPage && t['compat.meta.description'] ? 'compat.meta.description' : 'meta.description';
    if (t && t[titleKey]) {
        document.title = t[titleKey];
        const metaTitle = document.querySelector('meta[name="title"]');
        if (metaTitle) metaTitle.setAttribute('content', t[titleKey]);
        const ogTitle = document.querySelector('meta[property="og:title"]');
        if (ogTitle) ogTitle.setAttribute('content', t[titleKey]);
        const twTitle = document.querySelector('meta[property="twitter:title"]');
        if (twTitle) twTitle.setAttribute('content', t[titleKey]);
    }
    if (t && t[descKey]) {
        const metaDesc = document.querySelector('meta[name="description"]');
        if (metaDesc) metaDesc.setAttribute('content', t[descKey]);
        const ogDesc = document.querySelector('meta[property="og:description"]');
        if (ogDesc) ogDesc.setAttribute('content', t[descKey]);
        const twDesc = document.querySelector('meta[property="twitter:description"]');
        if (twDesc) twDesc.setAttribute('content', t[descKey]);
    }
    const langMeta = document.querySelector('meta[name="language"]');
    if (langMeta) {
        const langNames = { uk: 'Ukrainian', en: 'English', ru: 'Russian' };
        langMeta.setAttribute('content', langNames[lang] || 'Ukrainian');
    }
    const ogLocale = document.querySelector('meta[property="og:locale"]');
    if (ogLocale) {
        const locales = { uk: 'uk_UA', en: 'en_US', ru: 'ru_RU' };
        ogLocale.setAttribute('content', locales[lang] || 'uk_UA');
    }

    // Compatibility calculator: refresh month labels in dropdowns and forecast result text
    if (document.body && document.body.getAttribute('data-page') === 'compat') {
        fillCompatDateSelects(lang);
        var forecastResultEl = document.getElementById('compat-forecast-result');
        if (forecastResultEl && forecastResultEl.style.display === 'block') {
            refreshCompatForecastResult(lang);
        }
    }
}

// Build payload from compat form (no formulas — calculation is on server)
function getCompatPayload(includeCalcYear) {
    var p1d = document.getElementById('p1-day');
    var p1m = document.getElementById('p1-month');
    var p1y = document.getElementById('p1-year');
    var p2d = document.getElementById('p2-day');
    var p2m = document.getElementById('p2-month');
    var p2y = document.getElementById('p2-year');
    var payload = {
        p1: {
            day: p1d ? parseInt(p1d.value, 10) || 1 : 1,
            month: p1m ? parseInt(p1m.value, 10) || 1 : 1,
            year: p1y ? parseInt(p1y.value, 10) || 2000 : 2000
        },
        p2: {
            day: p2d ? parseInt(p2d.value, 10) || 1 : 1,
            month: p2m ? parseInt(p2m.value, 10) || 1 : 1,
            year: p2y ? parseInt(p2y.value, 10) || 2000 : 2000
        }
    };
    if (includeCalcYear) {
        var cy = document.getElementById('compat-forecast-year');
        var calcYear = cy ? parseInt(cy.value, 10) : new Date().getFullYear();
        payload.calcYear = isNaN(calcYear) ? new Date().getFullYear() : calcYear;
    }
    return payload;
}

function wrapForecastValue(val, isKarmic) {
    var cls = 'compat-forecast-value' + (isKarmic ? ' compat-forecast-karmic' : '');
    return '<strong class="' + cls + '">' + val + '</strong>';
}

// Call server: returns { arkanPlus, arkanMinus, forecast? }
function apiCalculate(payload) {
    return fetch('/.netlify/functions/calculate', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
    }).then(function (r) {
        if (!r.ok) throw new Error('Network error');
        return r.json();
    });
}

// Render forecast lines from API response (forecast) and current lang
function renderForecastFromResponse(forecast, lang) {
    if (!forecast) return;
    var t = translations[lang] || translations.uk;
    var calcYearEl = document.getElementById('compat-forecast-year');
    var calcYear = calcYearEl ? parseInt(calcYearEl.value, 10) : new Date().getFullYear();
    if (isNaN(calcYear)) calcYear = new Date().getFullYear();
    var d1 = parseInt(document.getElementById('p1-day') && document.getElementById('p1-day').value, 10) || 1;
    var m1 = parseInt(document.getElementById('p1-month') && document.getElementById('p1-month').value, 10) || 1;
    var d2 = parseInt(document.getElementById('p2-day') && document.getElementById('p2-day').value, 10) || 1;
    var m2 = parseInt(document.getElementById('p2-month') && document.getElementById('p2-month').value, 10) || 1;
    var monthGen1 = t['compat.month' + m1 + 'Gen'] || t['compat.month' + m1] || m1;
    var monthGen2 = t['compat.month' + m2 + 'Gen'] || t['compat.month' + m2] || m2;
    var untilT = t['compat.effectiveUntil'] || 'діє до';
    var afterT = t['compat.effectiveAfter'] || 'діє після';
    var p1Label = t['compat.partner1'] || 'Партнер 1';
    var p2Label = t['compat.partner2'] || 'Партнер 2';
    var p1 = forecast.partner1;
    var p2 = forecast.partner2;
    var r1u = wrapForecastValue(p1.resultUntil, p1.karmicUntil);
    var r1a = wrapForecastValue(p1.resultAfter, p1.karmicAfter);
    var r2u = wrapForecastValue(p2.resultUntil, p2.karmicUntil);
    var r2a = wrapForecastValue(p2.resultAfter, p2.karmicAfter);
    var line1 = '<strong class="compat-forecast-partner-label">' + p1Label + '</strong>: <br>' + r1u + ' (' + untilT + ' ' + d1 + ' ' + monthGen1 + ' ' + calcYear + ')<br>' + r1a + ' (' + afterT + ' ' + d1 + ' ' + monthGen1 + ' ' + calcYear + ')';
    var line2 = '<strong class="compat-forecast-partner-label">' + p2Label + '</strong>: <br>' + r2u + ' (' + untilT + ' ' + d2 + ' ' + monthGen2 + ' ' + calcYear + ')<br>' + r2a + ' (' + afterT + ' ' + d2 + ' ' + monthGen2 + ' ' + calcYear + ')';
    var out1 = document.getElementById('compat-forecast-p1');
    var out2 = document.getElementById('compat-forecast-p2');
    if (out1) out1.innerHTML = line1;
    if (out2) out2.innerHTML = line2;
}

// Refresh forecast result: call API with calcYear then render (used on button click and on language change)
function refreshCompatForecastResult(lang) {
    var payload = getCompatPayload(true);
    apiCalculate(payload).then(function (data) {
        if (data.forecast) renderForecastFromResponse(data.forecast, lang);
    }).catch(function () {
        var out1 = document.getElementById('compat-forecast-p1');
        var out2 = document.getElementById('compat-forecast-p2');
        if (out1) out1.innerHTML = '';
        if (out2) out2.innerHTML = '';
    });
}

// Fill day/month/year selects on compatibility calculator page (language-aware)
function fillCompatDateSelects(lang) {
    const t = translations[lang];
    if (!t) return;
    const yearEnd = new Date().getFullYear();
    const yearStart = 1920;
    const ids = ['p1', 'p2'];
    ids.forEach(prefix => {
        const dayEl = document.getElementById(prefix + '-day');
        const monthEl = document.getElementById(prefix + '-month');
        const yearEl = document.getElementById(prefix + '-year');
        if (dayEl && !dayEl.querySelector('option')) {
            for (let d = 1; d <= 31; d++) {
                const opt = document.createElement('option');
                opt.value = d;
                opt.textContent = d;
                dayEl.appendChild(opt);
            }
        }
        if (monthEl) {
            monthEl.innerHTML = '';
            for (let m = 1; m <= 12; m++) {
                const opt = document.createElement('option');
                opt.value = m;
                opt.textContent = t['compat.month' + m] || m;
                monthEl.appendChild(opt);
            }
        }
        if (yearEl && !yearEl.querySelector('option')) {
            for (let y = yearEnd; y >= yearStart; y--) {
                const opt = document.createElement('option');
                opt.value = y;
                opt.textContent = y;
                yearEl.appendChild(opt);
            }
        }
    });
    const forecastYearEl = document.getElementById('compat-forecast-year');
    if (forecastYearEl && !forecastYearEl.querySelector('option')) {
        const yStart = yearEnd - 2;
        const yEnd = yearEnd + 5;
        for (let y = yEnd; y >= yStart; y--) {
            const opt = document.createElement('option');
            opt.value = y;
            opt.textContent = y;
            if (y === yearEnd) opt.selected = true;
            forecastYearEl.appendChild(opt);
        }
    }
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', () => {
    // Set initial language
    changeLanguage(currentLang);

    // Compatibility calculator: fill date selects once (day/year once, month labels from changeLanguage)
    if (document.body && document.body.getAttribute('data-page') === 'compat') {
        fillCompatDateSelects(currentLang);
    }

    // Compatibility calculator: Arkan + and Arkan − via server (no formulas in client)
    const compatCalculateBtn = document.getElementById('compat-calculate');
    if (compatCalculateBtn) {
        compatCalculateBtn.addEventListener('click', function () {
            var payload = getCompatPayload(false);
            apiCalculate(payload).then(function (data) {
                var resultEl = document.getElementById('compat-result');
                var plusEl = document.getElementById('compat-value-plus');
                var minusEl = document.getElementById('compat-value-minus');
                if (resultEl && plusEl && minusEl) {
                    plusEl.textContent = data.arkanPlus;
                    minusEl.textContent = data.arkanMinus;
                    resultEl.style.display = 'block';
                    var forecastBlock = document.getElementById('compat-forecast-block');
                    if (forecastBlock) forecastBlock.style.display = 'block';
                }
            }).catch(function () {
                var resultEl = document.getElementById('compat-result');
                if (resultEl) resultEl.style.display = 'none';
            });
        });
    }

    const compatForecastBtn = document.getElementById('compat-forecast-calculate');
    if (compatForecastBtn) {
        compatForecastBtn.addEventListener('click', function () {
            refreshCompatForecastResult(currentLang);
            var resultBlock = document.getElementById('compat-forecast-result');
            if (resultBlock) resultBlock.style.display = 'block';
        });
    }
    
    // Language switcher buttons
    const langButtons = document.querySelectorAll('.lang-btn');
    
    if (langButtons.length > 0) {
        langButtons.forEach(button => {
            button.addEventListener('click', () => {
                const lang = button.getAttribute('data-lang');
                changeLanguage(lang);
            });
        });
    }
    
    // Mobile menu toggle
    const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
    const navMenu = document.querySelector('.nav-menu');
    
    if (mobileMenuToggle && navMenu) {
        mobileMenuToggle.addEventListener('click', () => {
            mobileMenuToggle.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Close menu when clicking on a link
        navMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenuToggle.classList.remove('active');
                navMenu.classList.remove('active');
            });
        });

        // Close menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!navMenu.contains(e.target) && !mobileMenuToggle.contains(e.target)) {
                mobileMenuToggle.classList.remove('active');
                navMenu.classList.remove('active');
            }
        });
    }

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
});

